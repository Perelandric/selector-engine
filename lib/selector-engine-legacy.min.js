/* selector-engine | (c) 2016 Perelandric | MIT License */;(function(global) {var k=global.Query={},l=/(?:^\s+|\s+$)/g,m={},p={};k.one=function(a,b){1===arguments.length&&(b=a,a=document);var c;a:{c=new q(b);for(var f=a,e=f.getElementsByTagName(c.a),d="*"===c.a,g=0,h=e.length;g<h;g+=1)if((!r||1===e[g].nodeType)&&t(c,f,e[g],d)){c=e[g];break a}c=null}return c};k.all=function(a,b){1===arguments.length&&(b=a,a=document);for(var c=new q(b),f=a,e=f.getElementsByTagName(c.a),d="*"===c.a,g=[],h=0,n=e.length;h<n;h+=1)r&&1!==e[h].nodeType||t(c,f,e[h],d)&&g.push(e[h]);return g};
k.matches=function(a,b){return t(new q(b),a,a,!0)};var u=Error("Invalid selector"),v=/^-?(?:[_a-zA-Z\u0080-\uFFFF]|\\[^\n]?|--\d?)(?:[-\w\u0080-\uFFFF]|\\[^\n]?)*/,w=new RegExp("^\\s*("+v.source.slice(1)+")\\s*(?:([$^*~|]?=)\\s*(?:((?:'(?:[^'\\n]|\\\\\\n)*')|(?:\"(?:[^\"\\n]|\\\\\\n)*\"))|("+v.source.slice(1)+")))?\\s*([iI]?)\\s*]"),x=/^(?:([-+]?\d+)|([-+]?\d*)?n\s*(?:([-+])\s*(\d+))?|(even)|(odd))\s*\)/i;function y(a,b,c){this.kind=a;this.value=b;this.h=c}y.prototype.name="";
function z(a,b,c,f){a instanceof z?(this.c=a.c,this.a=a.a,this.i=a.i,this.j=a):(this.c=a,this.i=this.a=-1);this.o=!!c;this.m=!!f;this.l=b||"";this.f=!1;this.b=A(this);this.f=!0}var E=[""];
function A(a){if(a.f)return a.f=!1,a.b;if(null===a.b)return a.b;var b,c=a.a+=1;b=a.c.charAt(c);a.i=a.a;if(!b||b===a.l)return a.j&&(a.j.a=a.a,a.j=null),a.b=null,a.b;switch(b){case ",":case "*":case ">":case "+":case "~":a.b=b;break;case ":":c=!1;":"===a.c.charAt(a.a+1)&&(a.a+=1,c=!0);b=(v.exec(a.c.slice(a.a+1))||E)[0].toLowerCase();a.a+=b.length;"("===a.c.charAt(a.a+1)?(a.a+=1,a.b=aa(a,b)):a.b=new y(12,b,F[b]);if(!a.b||!a.b.h)switch(b){case "scope":a.b=22;break;case "first-line":case "first-letter":case "before":case "after":a.b=
25}if(c&&25!==a.b)throw u;break;case "[":c=w.exec(a.c.slice(a.a+1));if(!c)throw u;a.a+=c[0].length;a.b=new y(c[5]?24:20,c[3]?c[3].slice(1,-1):c[4],c[2]||21);a.b.name=c[1];if(c[5])if(c[2])a.b.value=a.b.value.toLowerCase();else throw u;break;default:if(c=G(a.c,a.a),0<c)a.a+=c-1,a.b=3;else if(c="#"===b?10:"."===b?18:11,11===c&&--a.a,b=v.exec(a.c.slice(a.a+1)))a.a+=b[0].length,a.b=new y(c,b[0]);else throw u;}return a.b}
function aa(a,b){switch(b.toLowerCase()){case "not":if(a.o)throw u;return new y(2,new q(new z(a,")",!0,!0)),19);case "matches":return new y(2,new q(new z(a,")",!1,!0)),23);case "lang":var c=new z(a,")"),f=H(c);if(11!==f.kind||H(c))throw u;f.kind=2;f.h=13;return f;case "nth-child":return I(a,new y(2,0,14));case "nth-last-child":return I(a,new y(2,0,15));case "nth-of-type":return I(a,new y(2,0,16));case "nth-last-of-type":return I(a,new y(2,0,17));default:throw u;}}
function H(a){for(;3===A(a););return a.b}function I(a,b){var c=0,f=0,e=x.exec(a.c.slice(a.a+1));if(!e)throw u;a.a+=e[0].length;e[1]?f=+e[1]:e[5]?c=2:e[6]?(c=2,f=1):(c=e[2],e=e[3]+e[4],c=c&&"+"!==c&&"-"!==c?+c:"-"===c?-1:1,e&&(f=+e));b.value=[c,f];return b};function q(a){var b=a instanceof z;if(!b&&m.hasOwnProperty(a))return m[a];var c=b?a:new z(a);this.a="";this.b=[];for(var f=!0,e;e=H(c);){var d=","===e;if(f){if(!e||d)throw u;f=!1;c.f=!0}e=new J(c);e.a||(this.a?this.a!==e.qualifier&&(this.a="*"):this.a=e.qualifier||"*",this.b.push(e))}b||(m[a]=this)}
function t(a,b,c,f){for(var e=0,d=a.b.length;e<d;e+=1){var g=a.b[e],h=g.qualifier;if(h=!f||!h||h===K(c))a:{for(var h=b,n=c,B=g.g.length-1,Q=0;-1<B;--B){var M=g.g[B],C=!1,D=n;if(M instanceof L){switch(Q){case 0:C=!0;break;case ">":C=!0;case 6:D=N(n);break;case "+":C=!0;case "~":D=O(n)}if(!D){h=!1;break a}n=D;if(!ba(h,n,M)){if(C){h=!1;break a}B+=1}}else Q=M}h=!0}if(h)return!0}return!1}
function J(a){var b=a.f?a.i:a.a+1,c=a.c.indexOf(a.l||",",b);-1===c&&(c=a.c.length);b=a.c.slice(b,c).replace(l,"");if(p.hasOwnProperty(b))return a.f=!1,a.a=c-1,p[b];var f=!1,e;for(this.g=[];e=A(a);){var d=3===e;d&&(e=H(a));if(!e||","===e){a.f=!0;break}if(this.b)throw u;if(f){if(a.m)throw u;switch(e){case ">":case "+":case "~":this.g.push(e);break;default:if(d)a.f=!0,this.g.push(6);else throw u;}f=!1}else a.f=!0,f=new L(a,this),this.g.push(f),this.qualifier=f.a,f=!0}if(!f)throw u;this.a&&(this.g=null);
c===a.a&&(p[b]=this)}J.prototype.a=!1;J.prototype.c=!1;J.prototype.b=!1;J.prototype.qualifier="";
function L(a,b){this.c=[];var c=H(a);if(!c||","===c)throw u;"*"!==c&&(11===c.kind?this.a=c.value.toUpperCase():a.f=!0);a:for(;c=A(a);){switch(c){case ",":case 3:case ">":case "+":case "~":a.f=!0;break a}if(b.b)throw u;if(25===c)b.b=!0,b.a=!0;else if(22===c)b.c&&(b.a=!0),this.b=!0;else switch(c.kind){case 12:case 10:case 20:case 24:case 18:case 2:this.c.push(c);break;default:throw u;}}this.b&&(b.c=!0)}L.prototype.a="";L.prototype.b=!1;var r=0!==document.createElement("div").appendChild(document.createComment("")).parentNode.getElementsByTagName("*").length;
function ba(a,b,c){if(c.b&&b!==a||c.a&&K(b)!==c.a)return!1;for(var f=0,e=c.c;f<e.length;f++){var d=e[f];switch(d.kind){case 18:if(P(b.className,d.value))continue;return!1;case 10:if(b.id===d.value)continue;return!1;case 12:if(d.h(b))continue;return!1;case 2:switch(d.h){case 19:if(!d.value.matches(a,b,!0))continue;return!1;case 23:if(d.value.matches(a,b,!0))continue;return!1;case 14:if(R(b,d,"",!1))continue;return!1;case 15:if(R(b,d,"",!0))continue;return!1;case 16:if(R(b,d,c.a,!1))continue;return!1;
case 17:if(R(b,d,c.a,!0))continue;return!1;case 13:for(var g=b;g&&!g.lang;)g=g.parentNode;if(g&&S(g.lang,d.value))continue;return!1}case 20:case 24:g=d.name;g=((b.attributes[g]||"class"!==g?b.attributes[g]:b.attributes.className)||ca).value;if(null==g)return!1;24===d.kind&&(g=g.toLowerCase());switch(d.h){case "=":if(g===d.value)continue;return!1;case "^=":if(!g.lastIndexOf(d.value,0))continue;return!1;case "$=":if(g.lastIndexOf(d.value)+d.value.length===g.length)continue;return!1;case "|=":if(S(g,
d.value))continue;return!1;case "~=":if(P(g,d.value))continue;return!1;case 21:continue;case "*=":if(-1===g.indexOf(d.value))return!1}}}return!0}function S(a,b){var c=a.charAt(b.length);return(!c||"-"===c)&&!a.lastIndexOf(b,0)}function P(a,b){for(var c=0;-1!==(c=a.indexOf(b,c));)if(G(a,c+b.length)){if(G(a,c-1))return!0;c+=b.length+1}else c+=b.length+2;return!1}
function R(a,b,c,f){var e=b.value[0];if(!a.parentNode)return!1;b=1-b.value[1];var d;f?(d=a.parentNode,d=d.lastChild&&d.lastChild.nodeType!==Node.ELEMENT_NODE?O(d.lastChild):d.lastChild):(d=a.parentNode,d=d.firstChild&&d.firstChild.nodeType!==Node.ELEMENT_NODE?T(d.firstChild):d.firstChild);for(;d!==a;)c&&K(d)!==c||(b+=1),d=f?O(d):T(d);return!b||!(b%e)&&0<=b/e}
var U={INPUT:1,TEXTAREA:1,SELECT:1,BUTTON:1,OPTION:1,OPTGROUP:1},da={hidden:1,image:1,button:1,submit:1,reset:1},V=["A","AREA","LINK"],F={root:function(a){return a.ownerDocument.documentElement===a},empty:function(a){return!a.firstChild},optional:function(a){return!F.required(a)},required:function(a){return W(a,"required")&&U[K(a)]&&!da[a.type]},checked:function(a){return a.checked&&("checkbox"===a.type||"radio"===a.type)||a.selected&&"OPTION"===K(a)},indeterminate:function(a){return W(a,"indeterminate")&&
"checkbox"===a.type&&"INPUT"===K(a)},"out-of-range":function(a){return!F["in-range"](a)},"in-range":function(a){return"INPUT"===K(a)&&("number"===a.type||"text"===a.type&&(X(a,"min")||X(a,"max")))&&!0===((+a.min!==+a.min||+a.value>=+a.min)&&(+a.max!==+a.max||+a.value<=+a.max))},"default-option":function(a){return a.defaultChecked||a.defaultSelected?!0:a.form&&1===a.form.nodeType&&k.matches(a,"BUTTON, INPUT[type=submit]")&&k.one(a.form,"BUTTON, INPUT[type=submit]")===a},enabled:function(a){return!F.disabled(a)},
disabled:function(a){return W(a,"disabled")&&U[K(a)]},target:function(a){return a.id&&window.location.hash.slice(1)===a.id},"any-link":function(a){var b;if(b=X(a,"href"))a:{b=0;for(var c=V.length;b<c;b+=1)if(V[b]===K(a)){b=!0;break a}b=!1}return b},hover:function(a){Y&&ea();if(a.contains)return a.contains(Z);var b=Z;do if(a===b)return!0;while(b&&(b=N(b)));return!1},focus:function(a){return a===a.ownerDocument.activeElement},"first-child":function(a){return!O(a)},"last-child":function(a){return!T(a)},
"only-child":function(a){return!O(a)&&!T(a)},"first-of-type":function(a){for(var b=K(a);(a=O(a))&&K(a)!==b;);return!a},"last-of-type":function(a){for(var b=K(a);(a=T(a))&&K(a)!==b;);return!a},"only-of-type":function(a){return F["first-of-type"](a)&&F["last-of-type"](a)}},Y=!0,Z=null;
function ea(){if(Y){Y=!1;window.addEventListener?window.addEventListener("mouseover",function(a){Z=a.target},!0):window.attachEvent&&window.attachEvent("onmouseover",function(a){Z=a.srcElement});var a=document.body;if(a){var b=a.nextSibling,c=a.parentNode;c.removeChild(a);c.insertBefore(a,b)}}};function G(a,b){for(var c=0;;){switch(a.charAt(b+c)||""){case " ":case "\t":case "\n":c+=1;continue;case "":return c||-1}return c}}function K(a){return a.nodeName.toUpperCase()}function W(a,b){return a[b]||X(a,b)}function X(a,b){return!(a.attributes[b]||"class"!==b?!a.attributes[b]:!a.attributes.className)}var ca={};function N(a){return(a=a.parentNode)&&a.nodeType===Node.ELEMENT_NODE?a:null}function O(a){do a=a.previousSibling;while(a&&a.nodeType!==Node.ELEMENT_NODE);return a}
function T(a){do a=a.nextSibling;while(a&&a.nodeType!==Node.ELEMENT_NODE);return a};})(this);
