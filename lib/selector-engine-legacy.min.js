/* selector-engine | (c) 2016 Perelandric | MIT License */
;(function(global) {var l,m=global.Query={};m.one=function(a,b){1===arguments.length&&(b=a,a=document);return aa(new p(b),a)};m.all=function(a,b){1===arguments.length&&(b=a,a=document);return ba(new p(b),a)};m.matches=function(a,b){1===arguments.length&&(b=a,a=document);return(new p(b)).matches(a)};var q=Error("Invalid selector"),t=new r(4),u=new r(4),v=new r(4),w=new r(4),x=new r(4),y=new r(1),ca=new r(",",","),da=new r(3," "),z=/^-?(?:[_a-zA-Z\u0080-\uFFFF]|\\[^\n]?|--\d?)(?:[-\w\u0080-\uFFFF]|\\[^\n]?)*/,ea=new RegExp("^\\s*("+z.source.slice(1)+")\\s*(?:([$^*~|]?=)\\s*(?:((?:'(?:[^'\\n]|\\\\\\n)*')|(?:\"(?:[^\"\\n]|\\\\\\n)*\"))|("+z.source.slice(1)+")))?\\s*([iI]?)\\s*]"),fa=/^(?:([-+]?\d+)|([-+]?\d*)?n\s*(?:([-+])\s*(\d+))?|(even)|(odd))\s*\)/i;t.c=6;u.c=5;v.c=7;w.c=8;x.c=9;
function r(a,b){this.kind=a;this.value=b}l=r.prototype;l.kind=0;l.c=0;l.o=null;l.name="";l.value="";l.j=0;l.l=0;function A(a,b,c,d){a instanceof A?(this.f=a.f,this.a=a.a,this.m=a.m,this.s=a):(this.f=a,this.m=this.a=-1);this.w=!!c;this.v=!!d;this.u=b||"";this.g=!1;this.b=this.next();this.g=!0}var ga=[""];
A.prototype.next=function(){if(this.g)return this.g=!1,this.b;if(null===this.b)return this.b;var a;a=this.a+=1;a=this.f.charAt(a);this.m=this.a;if(!a||a===this.u)return this.s&&(this.s.a=this.a,this.s=null),this.b=null;switch(a){case " ":case "\t":case "\n":for(;;){a=this.a+=1;switch(this.f.charAt(a)){case " ":case "\t":case "\n":continue}--this.a;break}this.b=da;break;case ",":this.b=ca;break;case ">":this.b=u;break;case "+":this.b=v;break;case "~":this.b=w;break;case ":":a=!1;var b;":"===this.f.charAt(this.a+
1)&&(this.a+=1,a=!0);b=(z.exec(this.f.slice(this.a+1))||ga)[0].toLowerCase();this.a+=b.length;if(a)switch(b){case "first-line":case "first-letter":case "before":case "after":this.b=new r(12,b);this.b.c=B["no-tok"];break;default:throw q;}else if("("===this.f.charAt(this.a+1))this.a+=1,this.b=ha(this,b);else if(this.b=new r(12,b),this.b.c="scope"===b?22:B[b],!this.b.c)throw q;break;case "[":a=ea.exec(this.f.slice(this.a+1));if(!a)throw q;this.a+=a[0].length;this.b=new r(a[5]?24:20);this.b.name=a[1];
if(a[2])this.b.c=a[2],this.b.value=a[3]?a[3].slice(1,-1):a[4],a[5]&&(this.b.value=this.b.value.toLowerCase());else if(this.b.c=21,a[5])throw q;break;case "*":this.b=y;break;default:if(b="#"===a?10:"."===a?18:11,11===b&&--this.a,a=z.exec(this.f.slice(this.a+1)))this.a+=a[0].length,this.b=new r(b,a[0]);else throw q;}return this.b};
function ha(a,b){var c=new r(2,b.toLowerCase()),d;switch(c.value){case "not":if(a.w)throw q;d=new A(a,")",!0,!1);c.o=new p(d);c.c=19;break;case "matches":d=new A(a,")",!1,!0);c.o=new p(d);c.c=23;break;case "lang":d=new A(a,")",!0,!0);c=E(d);if(11===c.kind)c.kind=2,c.c=13;else throw q;break;case "nth-child":return c.c=14,F(a,c);case "nth-last-child":return c.c=15,F(a,c);case "nth-of-type":return c.c=16,F(a,c);case "nth-last-of-type":return c.c=17,F(a,c);default:throw q;}if(d.next())throw q;return c}
function E(a){for(var b;(b=a.next())&&3===b.kind;);return b}function F(a,b){b.j=0;b.l=0;var c=fa.exec(a.f.slice(a.a+1));if(!c)throw q;a.a+=c[0].length;if(c[1])b.l=+c[1];else if(c[5])b.j=2;else if(c[6])b.j=2,b.l=1;else{var d=c[2],c=c[3]+c[4];b.j=d&&"+"!==d&&"-"!==d?+d:"-"===d?-1:1;c&&(b.l=+c)}return b};var ia=/(?:^\s+|\s+$)/g,G={},H={};
function p(a){var b=a instanceof A;if(!b&&G.hasOwnProperty(a))return G[a];for(var c={},d=b?a:new A(a),k=!0,e=!1,f;f=E(d);){var C=","===f.kind;if(k){if(!f||C)throw q;k=!1;d.g=!0}f=new ja(d);e=e||"*"===f.qualifier;c.hasOwnProperty(f.qualifier)||(c[f.qualifier]=[]);c[f.qualifier].push(f)}d=e;this.h=[];for(var n in c)c.hasOwnProperty(n)&&(d?this.h[0]?this.h[0].push.apply(this.h[0],c[n]):this.h[0]=c[n]:this.h.push(c[n]));if(d)for(c=0,n=this.h[0];c<n.length;c+=1)n[c].qualifier="*";b||(G[a]=this)}
p.prototype.matches=function(a){for(var b=0;b<this.h.length;b+=1)if(I(a,a,this.h[b]))return!0;return!1};function aa(a,b){for(var c=null,d=0;d<a.h.length;d+=1)J(a,b,d,function(a){c=c&&0>K(c,a)?c:a;return!0});return c}function ba(a,b){for(var c=[],d=0,k=0,e=0;e<a.h.length;e+=1)J(a,b,e,function(a){for(var b=0;b<k;b+=1)if(c[b]===a)return;c.push(a)}),c.length!==k&&(d+=1,k=c.length);return 1<d?c.sort(K):c}
function J(a,b,c,d){a=a.h[c];c=b.getElementsByTagName(L?"*":a[0].qualifier);for(var k=0;k<c.length;k+=1){var e=c[k];if((!ka||1===e.nodeType)&&I(b,e,a)&&d(e))break}}
function ja(a){var b=a.g?a.m:a.a+1,c=a.f.indexOf(a.u||",",b);-1===c&&(c=a.f.length);b=a.f.slice(b,c).replace(ia,"");if(H.hasOwnProperty(b))return a.g=!1,a.a=c-1,H[b];var d=!1,k;this.source=a;this.i=[];for(this.qualifier="";k=a.next();){var e=3===k.kind;e&&(k=E(a));if(k&&","!==k.kind)if(d){if(a.v)throw q;switch(k){case u:case v:case w:this.i.push(k);break;default:if(e)a.g=!0,this.i.push(t);else throw q;}d=!1}else{a.g=!0;M.length=0;this.qualifier="";d=E(this.source);if(!d||","===d.kind)throw q;switch(d.kind){case 11:d.value=
d.value.toUpperCase();case 1:this.qualifier=d.value||"*";M.push(d);break;default:this.source.g=!0,this.qualifier="*",M.push(y)}a:for(;d=this.source.next();)switch(d.kind){case ",":case 3:case 4:this.source.g=!0;break a;case 12:if(22===d.c){M.unshift(d);break}case 10:case 20:case 24:case 18:case 2:M.push(d);break;default:throw q;}for(;M.length;)this.i.push(M.pop());d=!0}else{a.g=!0;break}}if(!1===d)throw q;this.i.push(x);this.source=null;c===a.a&&(H[b]=this)}var M=[];
function N(a,b){if(a===b||O(a)&&N(O(a),b))return!0;for(;a=P(a);)if(N(a,b))return!0;return!1}function K(a,b){return a===b?0:a.compareDocumentPosition?a.compareDocumentPosition(b)&4?-1:1:a.contains(b)?-1:b.contains(a)?1:N(P(a),b)?-1:1};var la=/^\s\s?$|^$/,Q=document.createElement("div");Q.innerHTML="1<div123></div123>";var L="/"===Q.getElementsByTagName("*")[0].nodeName.charAt(0),ka=0!==document.createElement("div").appendChild(document.createComment("")).parentNode.getElementsByTagName("*").length;
function I(a,b,c){var d=0;a:for(;d<c.length;d+=1){for(var k=c[d],e=b,f=!1,C=-1,n=k.i.length-1;-1<n;--n){var g=k.i[n];if(4===g.kind){f=!1;switch(g.c){case 9:f=!0;break;case 5:f=!0;case 6:e=e.parentNode;break;case 7:f=!0;case 8:e=R(e)}if(!e||1!==e.nodeType)return!1;C=n+1}else{var h,D="";switch(g.kind){case 1:continue;case 11:h=S(e);D=g.value;L&&"/"===h.charAt(0)&&(h=h.slice(1));if(h===D)continue;break;case 18:if(T(e.className,g.value))continue;break;case 10:if(e.id===g.value)continue;break;case 12:if(22===
g.c){if(e===a)continue}else if(g.c(e))continue;break;case 2:switch(g.c){case 19:if(!g.o.matches(e))continue;break;case 23:if(g.o.matches(e))continue;break;case 14:if(U(e,g,"",!1))continue;break;case 15:if(U(e,g,"",!0))continue;break;case 16:if(U(e,g,D,!1))continue;break;case 17:if(U(e,g,D,!0))continue;break;case 13:for(h=e;h&&!h.lang;)h=h.parentNode;if(h&&V(h.lang,g.value))continue}break;case 20:case 24:if(h=g.name,null!=(h=((e.attributes[h]||"class"!==h?e.attributes[h]:e.attributes.className)||ma).value))switch(24===
g.kind&&(h=h.toLowerCase()),g.c){case "=":if(h===g.value)continue;break;case "^=":if(0===h.lastIndexOf(g.value,0))continue;break;case "$=":if(h.lastIndexOf(g.value)+g.value.length===h.length)continue;break;case "|=":if(V(h,g.value))continue;break;case "~=":if(T(h,g.value))continue;break;case 21:continue;case "*=":if(-1!==h.indexOf(g.value))continue}}if(f)continue a;n=C}}return!0}return!1}function V(a,b){var c=a.charAt(b.length);return(!c||"-"===c)&&0===a.lastIndexOf(b,0)}
function T(a,b){for(var c=-1;-1!==(c=a.indexOf(b,c+1));)if(la.test(a.charAt(c-1)+a.charAt(c+b.length)))return!0;return!1}function U(a,b,c,d){var k=b.j;b=b.l;if(!a.parentNode)return!1;var e=1,f;d?(f=a.parentNode,f=f.lastChild&&1!==f.lastChild.nodeType?R(f.lastChild):f.lastChild):f=O(a.parentNode);for(;f!==a;)c&&S(f)!==c||(e+=1),f=d?R(f):P(f);return e===b||0<=k===e>=b&&0===(e-b)%k}
var na={INPUT:1,TEXTAREA:1,SELECT:1,BUTTON:1,OPTION:1,OPTGROUP:1},oa={hidden:1,image:1,button:1,submit:1,reset:1},B={root:function(a){return a.ownerDocument.documentElement===a},empty:function(a){return!a.firstChild},optional:function(a){return!B.required(a)},required:function(a){return W(a,"required")&&na[S(a)]&&!oa[a.type]},checked:function(a){return a.checked&&("checkbox"===a.type||"radio"===a.type)||a.selected&&"OPTION"===S(a)},indeterminate:function(a){return W(a,"indeterminate")&&"checkbox"===
a.type&&"INPUT"===S(a)},"out-of-range":function(a){return!B["in-range"](a)},"in-range":function(a){return"INPUT"===S(a)&&("number"===a.type||"text"===a.type&&(X(a,"min")||X(a,"max")))&&!0===((+a.min!==+a.min||+a.value>=+a.min)&&(+a.max!==+a.max||+a.value<=+a.max))},"default-option":function(a){return a.defaultChecked||a.defaultSelected?!0:a.form&&1===a.form.nodeType&&m.matches(a,"BUTTON, INPUT[type=submit]")&&m.one(a.form,"BUTTON, INPUT[type=submit]")===a},enabled:function(a){return!B.disabled(a)},
disabled:function(a){return W(a,"disabled")&&na[S(a)]},target:function(a){return a.id&&window.location.hash.slice(1)===a.id},"any-link":function(a){return"A"===S(a)&&X(a,"href")},hover:function(a){Y&&pa();if(a.contains)return a.contains(Z);var b=Z;do if(a===b)return!0;while(b&&(b=b.parentNode));return!1},focus:function(a){return a===a.ownerDocument.activeElement},"first-child":function(a){return!R(a)},"last-child":function(a){return!P(a)},"only-child":function(a){return!R(a)&&!P(a)},"first-of-type":function(a){for(var b=
S(a);(a=R(a))&&S(a)!==b;);return!a},"last-of-type":function(a){for(var b=S(a);(a=P(a))&&S(a)!==b;);return!a},"only-of-type":function(a){return B["first-of-type"](a)&&B["last-of-type"](a)},"no-tok":function(){return!1}},Y=!0,Z=null;
function pa(){if(Y){Y=!1;window.addEventListener?window.addEventListener("mouseover",function(a){Z=a.target},!0):window.attachEvent&&window.attachEvent("onmouseover",function(a){Z=a.srcElement});var a=document.body;if(a){var b=a.nextSibling,c=a.parentNode;c.removeChild(a);c.insertBefore(a,b)}}};function S(a){return a.nodeName.toUpperCase()}function W(a,b){return a[b]||X(a,b)}function X(a,b){return!(a.attributes[b]||"class"!==b?!a.attributes[b]:!a.attributes.className)}var ma={};function R(a){for(;(a=a.previousSibling)&&1!==a.nodeType;);return a}function P(a){for(;(a=a.nextSibling)&&1!==a.nodeType;);return a}function O(a){return a.firstChild&&1!==a.firstChild.nodeType?P(a.firstChild):a.firstChild};})(this);

