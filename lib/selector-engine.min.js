/* selector-engine | (c) 2016 Perelandric | MIT License */
;(function(global) {var g,h=global.Query={},l=/(?:^\s+|\s+$)/g,m={},n={};h.one=function(a,b){1===arguments.length&&(b=a,a=document);return q(new r(b),a)};h.all=function(a,b){1===arguments.length&&(b=a,a=document);return u(new r(b),a)};h.matches=function(a,b){return(new r(b)).matches(a)};var v=Error("Invalid selector"),w=/^-?(?:[_a-zA-Z\u0080-\uFFFF]|\\[^\n]?|--\d?)(?:[-\w\u0080-\uFFFF]|\\[^\n]?)*/,y=new RegExp("^\\s*("+w.source.slice(1)+")\\s*(?:([$^*~|]?=)\\s*(?:((?:'(?:[^'\\n]|\\\\\\n)*')|(?:\"(?:[^\"\\n]|\\\\\\n)*\"))|("+w.source.slice(1)+")))?\\s*([iI]?)\\s*]"),z=/^(?:([-+]?\d+)|([-+]?\d*)?n\s*(?:([-+])\s*(\d+))?|(even)|(odd))\s*\)/i;function A(a,b){this.kind=a;this.value=b}g=A.prototype;g.kind=0;g.c=0;g.u=null;g.name="";g.value="";g.l=0;g.m=0;
function B(a,b,c,e){a instanceof B?(this.f=a.f,this.a=a.a,this.s=a.s,this.w=a):(this.f=a,this.s=this.a=-1);this.D=!!c;this.C=!!e;this.A=b||"";this.g=!1;this.b=this.next();this.g=!0}var C=[""];
B.prototype.next=function(){if(this.g)return this.g=!1,this.b;if(null===this.b)return this.b;var a,b=this.a+=1;a=this.f[b];this.s=this.a;if(!a||a===this.A)return this.w&&(this.w.a=this.a,this.w=null),this.b=null;switch(a){case ",":this.b=4;break;case ">":this.b=5;break;case "+":this.b=7;break;case "~":this.b=8;break;case ":":b=!1;":"===this.f[this.a+1]&&(this.a+=1,b=!0);a=(w.exec(this.f.slice(this.a+1))||C)[0].toLowerCase();this.a+=a.length;"("===this.f[this.a+1]?(this.a+=1,this.b=D(this,a)):(this.b=
new A(12,a),this.b.c="scope"===a?22:F[a]);if(!this.b||!this.b.c)switch(a){case "first-line":case "first-letter":case "before":case "after":this.b=25}if(b&&25!==this.b)throw v;break;case "[":b=y.exec(this.f.slice(this.a+1));if(!b)throw v;this.a+=b[0].length;this.b=new A(b[5]?24:20);this.b.name=b[1];if(b[2])this.b.c=b[2],this.b.value=b[3]?b[3].slice(1,-1):b[4],b[5]&&(this.b.value=this.b.value.toLowerCase());else if(this.b.c=21,b[5])throw v;break;case "*":this.b=1;break;default:if(b=G(this.f,this.a),
0<b)this.a+=b-1,this.b=3;else if(b="#"===a?10:"."===a?18:11,11===b&&--this.a,a=w.exec(this.f.slice(this.a+1)))this.a+=a[0].length,this.b=new A(b,a[0]);else throw v;}return this.b};
function D(a,b){var c=new A(2,b.toLowerCase()),e;switch(c.value){case "not":if(a.D)throw v;e=new B(a,")",!0,!1);c.u=new r(e);c.c=19;break;case "matches":e=new B(a,")",!1,!0);c.u=new r(e);c.c=23;break;case "lang":e=new B(a,")",!0,!0);c=H(e);if(11===c.kind)c.kind=2,c.c=13;else throw v;break;case "nth-child":return c.c=14,I(a,c);case "nth-last-child":return c.c=15,I(a,c);case "nth-of-type":return c.c=16,I(a,c);case "nth-last-of-type":return c.c=17,I(a,c);default:throw v;}if(e.next())throw v;return c}
function H(a){for(var b;(b=a.next())&&3===b;);return b}function I(a,b){b.l=0;b.m=0;var c=z.exec(a.f.slice(a.a+1));if(!c)throw v;a.a+=c[0].length;if(c[1])b.m=+c[1];else if(c[5])b.l=2;else if(c[6])b.l=2,b.m=1;else{var e=c[2],c=c[3]+c[4];b.l=e&&"+"!==e&&"-"!==e?+e:"-"===e?-1:1;c&&(b.m=+c)}return b};function r(a){var b=a instanceof B;if(!b&&m.hasOwnProperty(a))return m[a];for(var c={},e=b?a:new B(a),d=!0,f=!1,k;k=H(e);){var p=4===k;if(d){if(!k||p)throw v;d=!1;e.g=!0}k=new J(e);k.o||(f=f||"*"===k.qualifier,c.hasOwnProperty(k.qualifier)||(c[k.qualifier]=[]),c[k.qualifier].push(k))}this.h=[];for(var t in c)if(e=c[t],c.hasOwnProperty(t)&&e.length)if(f){for(d=0;d<e.length;d+=1)e[d].qualifier="*";this.h[0]?this.h[0].push.apply(this.h[0],e):this.h[0]=e}else this.h.push(e);b||(m[a]=this)}
r.prototype.matches=function(a){for(var b=0;b<this.h.length;b+=1)if(K(a,a,this.h[b]))return!0;return!1};function q(a,b){for(var c=null,e=0;e<a.h.length;e+=1)L(a,b,e,function(a){c=c&&0>M(c,a)?c:a;return!0});return c}function u(a,b){for(var c=[],e=0,d=0,f=0;f<a.h.length;f+=1)L(a,b,f,function(a){for(var b=0;b<d;b+=1)if(c[b]===a)return;c.push(a)}),c.length!==d&&(e+=1,d=c.length);return 1<e?c.sort(M):c}
function L(a,b,c,e){a=a.h[c];c=b.getElementsByTagName(a[0].qualifier);for(var d=0;d<c.length;d+=1){var f=c[d];if(K(b,f,a)&&e(f))break}}
function J(a){var b=a.g?a.s:a.a+1,c=a.f.indexOf(a.A||",",b);-1===c&&(c=a.f.length);b=a.f.slice(b,c).replace(l,"");if(n.hasOwnProperty(b))return a.g=!1,a.a=c-1,n[b];var e=!1,d;this.j=[];for(this.qualifier="";d=a.next();){var f=3===d;f&&(d=H(a));if(!d||4===d){a.g=!0;break}if(this.v)throw v;if(e){if(a.C)throw v;switch(d){case 5:case 7:case 8:this.j.push(d);break;default:if(f)a.g=!0,this.j.push(6);else throw v;}e=!1}else a.g=!0,this.j.push(new N(a,this)),e=!0}if(!e)throw v;this.o&&(this.j=null);c===a.a&&
(n[b]=this)}J.prototype.qualifier="*";g=N.prototype;g.o=!1;g.i=!1;g.v=!1;
function N(a,b){this.B=[];delete b.qualifier;var c=H(a);if(!c||4===c)throw v;1!==c&&(11===c.kind?b.qualifier=this.tag=c.value.toUpperCase():a.g=!0);a:for(;c=a.next();){switch(c){case 4:case 3:case 5:case 7:case 8:a.g=!0;break a}if(b.v)throw v;if(25===c)b.v=!0,b.o=!0;else switch(c.kind){case 12:switch(c.c){case 22:b.i&&(b.o=!0);this.i=!0;continue}case 10:case 20:case 24:case 18:case 2:this.B.push(c);break;default:throw v;}}this.i&&(b.i=!0)}g.tag="";g.i=!1;
function O(a,b){if(a===b||a.firstElementChild&&O(a.firstElementChild,b))return!0;for(;a=a.nextElementSibling;)if(O(a,b))return!0;return!1}function M(a,b){return a===b?0:a.compareDocumentPosition?a.compareDocumentPosition(b)&4?-1:1:a.contains(b)?-1:b.contains(a)?1:O(a.nextElementSibling,b)?-1:1};function K(a,b,c){for(var e=0;e<c.length;e+=1){var d;a:{d=a;for(var f=b,k=c[e],p=k.j.length-1,t=0;-1<p;--p){var E=k.j[p],x=!1;if(E instanceof N){switch(t){case 0:x=!0;break;case 5:x=!0;case 6:f=f.parentElement;break;case 7:x=!0;case 8:f=f.previousElementSibling}if(!f){d=!1;break a}if(!P(d,f,E)){if(x){d=!1;break a}p+=1}}else t=E}d=!0}if(d)return!0}return!1}
function P(a,b,c){if(c.i&&b!==a||c.tag&&b.nodeName!==c.tag)return!1;a=0;for(var e=c.B;a<c.length;a++){var d=e[a];switch(d.kind){case 18:if(Q(b.className,d.value))continue;return!1;case 10:if(b.id===d.value)continue;return!1;case 12:if(d.c(b))continue;return!1;case 2:switch(d.c){case 19:if(!d.u.matches(b))continue;return!1;case 23:if(d.u.matches(b))continue;return!1;case 14:if(R(b,d,"",!1))continue;return!1;case 15:if(R(b,d,"",!0))continue;return!1;case 16:if(R(b,d,c.tag,!1))continue;return!1;case 17:if(R(b,
d,c.tag,!0))continue;return!1;case 13:for(var f=b;f&&!f.lang;)f=f.parentNode;if(f&&S(f.lang,d.value))continue;return!1}case 20:case 24:f=(b.attributes[d.name]||T).value;if(null==f)return!1;24===d.kind&&(f=f.toLowerCase());switch(d.c){case "=":if(f===d.value)continue;return!1;case "^=":if(0===f.lastIndexOf(d.value,0))continue;return!1;case "$=":if(f.lastIndexOf(d.value)+d.value.length===f.length)continue;return!1;case "|=":if(S(f,d.value))continue;return!1;case "~=":if(Q(f,d.value))continue;return!1;
case 21:continue;case "*=":if(-1===f.indexOf(d.value))return!1}}}return!0}function S(a,b){var c=a[b.length];return(!c||"-"===c)&&0===a.lastIndexOf(b,0)}function Q(a,b){for(var c=0;-1!==(c=a.indexOf(b,c));){if(G(a,c-1)&&G(a,c+b.length))return!0;c+=b.length+1}return!1}
function R(a,b,c,e){var d=b.l;if(!a.parentNode)return!1;b=1-b.m;for(var f=e?a.parentNode.lastElementChild:a.parentNode.firstElementChild;f!==a;)c&&f.nodeName!==c||(b+=1),f=e?f.previousElementSibling:f.nextElementSibling;return 0===b||0===b%d&&0<=b/d}
var U={INPUT:1,TEXTAREA:1,SELECT:1,BUTTON:1,OPTION:1,OPTGROUP:1},V={hidden:1,image:1,button:1,submit:1,reset:1},F={root:function(a){return a.ownerDocument.documentElement===a},empty:function(a){return!a.firstChild},optional:function(a){return!F.required(a)},required:function(a){return W(a,"required")&&U[a.nodeName]&&!V[a.type]},checked:function(a){return a.checked&&("checkbox"===a.type||"radio"===a.type)||a.selected&&"OPTION"===a.nodeName},indeterminate:function(a){return W(a,"indeterminate")&&"checkbox"===
a.type&&"INPUT"===a.nodeName},"out-of-range":function(a){return!F["in-range"](a)},"in-range":function(a){return"INPUT"===a.nodeName&&("number"===a.type||"text"===a.type&&(!!a.attributes.min||!!a.attributes.max))&&!0===((+a.min!==+a.min||+a.value>=+a.min)&&(+a.max!==+a.max||+a.value<=+a.max))},"default-option":function(a){return a.defaultChecked||a.defaultSelected?!0:a.form&&1===a.form.nodeType&&h.matches(a,"BUTTON, INPUT[type=submit]")&&h.one(a.form,"BUTTON, INPUT[type=submit]")===a},enabled:function(a){return!F.disabled(a)},
disabled:function(a){return W(a,"disabled")&&U[a.nodeName]},target:function(a){return a.id&&window.location.hash.slice(1)===a.id},"any-link":function(a){return"A"===a.nodeName&&!!a.attributes.href},hover:function(a){X&&Y();if(a.contains)return a.contains(Z);var b=Z;do if(a===b)return!0;while(b&&(b=b.parentElement));return!1},focus:function(a){return a===a.ownerDocument.activeElement},"first-child":function(a){return!a.previousElementSibling},"last-child":function(a){return!a.nextElementSibling},"only-child":function(a){return!a.previousElementSibling&&
!a.nextElementSibling},"first-of-type":function(a){for(var b=a.nodeName;(a=a.previousElementSibling)&&a.nodeName!==b;);return!a},"last-of-type":function(a){for(var b=a.nodeName;(a=a.nextElementSibling)&&a.nodeName!==b;);return!a},"only-of-type":function(a){return F["first-of-type"](a)&&F["last-of-type"](a)}},X=!0,Z=null;
function Y(){if(X){X=!1;window.addEventListener("mouseover",function(a){Z=a.target},!0);var a=document.body;if(a){var b=a.nextSibling,c=a.parentNode;c.removeChild(a);c.insertBefore(a,b)}}};function G(a,b){for(var c=0;;){switch(a[b+c]){case " ":case "\t":case "\n":c+=1;continue;case "":case void 0:return c||-1}return c}}function W(a,b){return a[b]||!!a.attributes[b]}var T={};})(this);

