/* selector-engine | (c) 2016 Perelandric | MIT License */
;(function(global) {var l,m=global.Query={};m.one=function(a,b){return p(new q(b),a)};m.all=function(a,b){return r(new q(b),a)};m.matches=function(a,b){return(new q(b)).matches(a)};var t=(global.HTMLElement||global.Element||{}).prototype;t&&!t.matches&&(t.matches=t.matchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||function(a){return m.matches(this,a)});var u=Error("Invalid selector"),w=new v(4),x=new v(4),y=new v(4),z=new v(4),C=new v(4),D=new v(1),E=new v(",",","),F=new v(3," "),G=/^-?(?:[_a-zA-Z\u0080-\uFFFF]|\\[^\n]?|--\d?)(?:[-\w\u0080-\uFFFF]|\\[^\n]?)*/,aa=new RegExp("^\\s*("+G.source.slice(1)+")\\s*(?:([$^*~|]?=)\\s*(?:((?:'(?:[^'\\n]|\\\\\\n)*')|(?:\"(?:[^\"\\n]|\\\\\\n)*\"))|("+G.source.slice(1)+")))?\\s*]"),ba=/^(?:([-+]?\d+)|([-+]?\d*)?n\s*(?:([-+])\s*(\d+))?|(even)|(odd))\s*\)/i;w.c=6;x.c=5;y.c=7;z.c=8;C.c=9;
function v(a,b){this.kind=a;this.value=b}l=v.prototype;l.kind=0;l.c=0;l.j=null;l.name="";l.value="";l.l=0;l.m=0;function H(a,b,c,e){a instanceof H?(this.f=a.f,this.a=a.a,this.o=a.o,this.s=a):(this.f=a,this.o=this.a=-1);this.w=!!c;this.v=!!e;this.u=b||"";this.g=!1;this.b=this.next();this.g=!0}var ca=[""];
H.prototype.next=function(){if(this.g)return this.g=!1,this.b;if(null===this.b)return this.b;var a=this.f.charAt(this.a+=1);this.o=this.a;if(!a||a===this.u)return this.s&&(this.s.a=this.a,this.s=null),this.b=null;switch(a){case " ":case "\t":case "\n":for(;;){switch(this.f.charAt(this.a+=1)){case " ":case "\t":case "\n":continue}--this.a;break}this.b=F;break;case ",":this.b=E;break;case ">":this.b=x;break;case "+":this.b=y;break;case "~":this.b=z;break;case ":":var a=!1,b;":"===this.f.charAt(this.a+
1)&&(this.a+=1,a=!0);b=(G.exec(this.f.slice(this.a+1))||ca)[0].toLowerCase();this.a+=b.length;if(a)switch(b){case "first-line":case "first-letter":case "before":case "after":this.b=new v(12,b);this.b.c=I["no-tok"];break;default:throw u;}else if("("===this.f.charAt(this.a+1))this.a+=1,this.b=da(this,b);else if(this.b=new v(12,b),this.b.c="scope"===b?22:I[b],!this.b.c)throw u;break;case "[":a=aa.exec(this.f.slice(this.a+1));if(!a)throw u;this.a+=a[0].length;this.b=new v(20);this.b.name=a[1];a[2]?(this.b.c=
a[2],this.b.value=a[3]?a[3].slice(1,-1):a[4]):this.b.c=21;break;case "*":this.b=D;break;default:if(b="#"===a?10:"."===a?18:11,11===b&&--this.a,a=G.exec(this.f.slice(this.a+1)))this.a+=a[0].length,this.b=new v(b,a[0]);else throw u;}return this.b};
function da(a,b){var c=new v(2,b.toLowerCase()),e;switch(c.value){case "not":if(a.w)throw u;e=new H(a,")",!0,!0);c.j=[new J(e,!1)];if(2!==c.j[0].i.length||19===c.j[0].i[0].c)throw u;c.c=19;break;case "matches":e=new H(a,")",!1,!0);c.j=new q(e);c.c=23;break;case "lang":e=new H(a,")");c=K(e);if(11===c.kind)c.kind=2,c.c=13;else throw u;break;case "nth-child":return c.c=14,L(a,c);case "nth-last-child":return c.c=15,L(a,c);case "nth-of-type":return c.c=16,L(a,c);case "nth-last-of-type":return c.c=17,L(a,
c);default:throw u;}if(e.next())throw u;return c}function K(a){for(var b;(b=a.next())&&3===b.kind;);return b}function L(a,b){b.l=0;b.m=0;var c=ba.exec(a.f.slice(a.a+1));if(!c)throw u;a.a+=c[0].length;if(c[1])b.m=+c[1];else if(c[5])b.l=2;else if(c[6])b.l=2,b.m=1;else{var e=c[2],c=c[3]+c[4];b.l=e&&"+"!==e&&"-"!==e?+e:"-"===e?-1:1;c&&(b.m=+c)}return b};var ea=/(?:^\s+|\s+$)/g,M={},N={};
function q(a){var b=a instanceof H;if(!b&&M.hasOwnProperty(a))return M[a];for(var c={},e=b?a:new H(a),h=!0,d=!1,g;g=K(e);){var A=","===g.kind;if(h){if(!g||A)throw u;h=!1;e.g=!0}g=new J(e,!0);d=d||"*"===g.qualifier;c.hasOwnProperty(g.qualifier)||(c[g.qualifier]=[]);c[g.qualifier].push(g)}e=d;this.h=[];for(var n in c)c.hasOwnProperty(n)&&(e?this.h[0]?this.h[0].push.apply(this.h[0],c[n]):this.h[0]=c[n]:this.h.push(c[n]));if(e)for(c=0,n=this.h[0];c<n.length;c+=1)n[c].qualifier="*";b||(M[a]=this)}
q.prototype.matches=function(a){for(var b=0;b<this.h.length;b+=1)if(O(a,a,this.h[b]))return!0;return!1};function p(a,b){for(var c=null,e=0;e<a.h.length;e+=1)P(a,b,e,function(a){c=c&&0>Q(c,a)?c:a;return!0});return c}function r(a,b){for(var c=[],e=0,h=0,d=0;d<a.h.length;d+=1)P(a,b,d,function(a){for(var b=0;b<h;b+=1)if(c[b]===a)return;c.push(a)}),c.length!==h&&(e+=1,h=c.length);return 1<e?c.sort(Q):c}
function P(a,b,c,e){a=a.h[c];c=b.getElementsByTagName(a[0].qualifier);for(var h=0;h<c.length;h+=1){var d=c[h];if(O(b,d,a)&&e(d))break}}
function J(a,b){var c=a.g?a.o:a.a+1,e=a.f.indexOf(a.u||",",c);-1===e&&(e=a.f.length);c=a.f.slice(c,e).replace(ea,"");if(N.hasOwnProperty(c))return a.g=!1,a.a=e-1,N[c];var h=!1,d;this.source=a;this.i=[];for(this.qualifier="";d=a.next();){var g=3===d.kind;g&&(d=K(a));if(d&&","!==d.kind)if(h){if(a.v)throw u;switch(d){case x:case y:case z:this.i.push(d);break;default:if(g)a.g=!0,this.i.push(w);else throw u;}h=!1}else{a.g=!0;h=b;R.length=0;this.qualifier="";d=K(this.source);if(!d||","===d.kind)throw u;
switch(d.kind){case 11:d.value=d.value.toUpperCase();case 1:this.qualifier=d.value||"*";R.push(d);break;default:this.source.g=!0,this.qualifier="*",h&&R.push(D)}a:for(;d=this.source.next();)switch(d.kind){case ",":case 3:case 4:this.source.g=!0;break a;case 12:if(22===d.c){R.unshift(d);break}case 10:case 20:case 18:case 2:R.push(d);break;default:throw u;}for(;R.length;)this.i.push(R.pop());h=!0}else{a.g=!0;break}}if(!1===h)throw u;this.i.push(C);this.source=null;e===a.a&&(N[c]=this)}var R=[];
function S(a,b){if(a===b||a.firstElementChild&&S(a.firstElementChild,b))return!0;for(;a=a.nextElementSibling;)if(S(a,b))return!0;return!1}function Q(a,b){return a===b?0:a.compareDocumentPosition?a.compareDocumentPosition(b)&4?-1:1:a.contains(b)?-1:b.contains(a)?1:S(a.nextElementSibling,b)?-1:1};var fa=/^\s\s?$|^$/;
function O(a,b,c){var e=0;a:for(;e<c.length;e+=1){for(var h=c[e],d=b,g=!1,A=-1,n=h.i.length-1;-1<n;--n){var f=h.i[n];if(4===f.kind){g=!1;switch(f.c){case 9:g=!0;break;case 5:g=!0;case 6:d=d.parentNode;break;case 7:g=!0;case 8:d=d.previousElementSibling}if(!d||1!==d.nodeType)return!1;A=n+1}else{var k,B="";switch(f.kind){case 1:continue;case 11:k=d.nodeName;B=f.value;if(k===B)continue;break;case 18:if(T(d.className,f.value))continue;break;case 10:if(d.id===f.value)continue;break;case 12:if(22===f.c){if(d===
a)continue}else if(f.c(d))continue;break;case 2:switch(f.c){case 19:if(!O(d,d,f.j))continue;break;case 23:if(f.j.matches(d))continue;break;case 14:if(U(d,f,"",!1))continue;break;case 15:if(U(d,f,"",!0))continue;break;case 16:if(U(d,f,B,!1))continue;break;case 17:if(U(d,f,B,!0))continue;break;case 13:for(k=d;k&&!k.lang;)k=k.parentNode;if(k&&V(k.lang,f.value))continue}break;case 20:k=d.getAttribute(f.name);if(null==k)return!1;switch(f.c){case "=":if(k===f.value)continue;break;case "^=":if(0===k.lastIndexOf(f.value,
0))continue;break;case "$=":if(k.lastIndexOf(f.value)+f.value.length===k.length)continue;break;case "|=":if(V(k,f.value))continue;break;case "~=":if(T(k,f.value))continue;break;case 21:continue;case "*=":if(-1!==k.indexOf(f.value))continue}}if(g)continue a;n=A}}return!0}return!1}function V(a,b){var c=a.charAt(b.length);return(!c||"-"===c)&&0===a.lastIndexOf(b,0)}function T(a,b){for(var c=-1;-1!==(c=a.indexOf(b,c+1));)if(fa.test(a.charAt(c-1)+a.charAt(c+b.length)))return!0;return!1}
function U(a,b,c,e){var h=b.l;b=b.m;if(!a.parentNode)return!1;for(var d=1,g=e?a.parentNode.lastElementChild:a.parentNode.firstElementChild;g!==a;)c&&g.nodeName!==c||(d+=1),g=e?g.previousElementSibling:g.nextElementSibling;return d===b||0<=h===d>=b&&0===(d-b)%h}var W={INPUT:1,TEXTAREA:1,SELECT:1,BUTTON:1,OPTION:1,OPTGROUP:1},ga={hidden:1,image:1,button:1,submit:1,reset:1};function X(a,b){return a[b]||!!a.attributes[b]}
var I={root:function(a){return a.ownerDocument.documentElement===a},empty:function(a){return!a.firstChild},optional:function(a){return!I.required(a)},required:function(a){return X(a,"required")&&W[a.nodeName]&&!ga[a.type]},checked:function(a){return a.checked&&("checkbox"===a.type||"radio"===a.type)||a.selected&&"OPTION"===a.nodeName},indeterminate:function(a){return X(a,"indeterminate")&&"checkbox"===a.type&&"INPUT"===a.nodeName},"out-of-range":function(a){return!I["in-range"](a)},"in-range":function(a){return"INPUT"===
a.nodeName&&("number"===a.type||"text"===a.type&&(!!a.attributes.min||!!a.attributes.max))&&!0===((+a.min!==+a.min||+a.value>=+a.min)&&(+a.max!==+a.max||+a.value<=+a.max))},"default-option":function(a){return a.defaultChecked||a.defaultSelected?!0:a.form&&1===a.form.nodeType&&m.matches(a,"BUTTON, INPUT[type=submit]")&&m.one(a.form,"BUTTON, INPUT[type=submit]")===a},enabled:function(a){return!I.disabled(a)},disabled:function(a){return X(a,"disabled")&&W[a.nodeName]},target:function(a){return a.id&&
window.location.hash.slice(1)===a.id},"any-link":function(a){return"A"===a.nodeName&&!!a.attributes.href},hover:function(a){Y&&ha();if(a.contains)return a.contains(Z);var b=Z;do if(a===b)return!0;while(b&&(b=b.parentNode));return!1},focus:function(a){return a===a.ownerDocument.activeElement},"first-child":function(a){return!a.previousElementSibling},"last-child":function(a){return!a.nextElementSibling},"only-child":function(a){return!a.previousElementSibling&&!a.nextElementSibling},"first-of-type":function(a){for(var b=
a.nodeName;(a=a.previousElementSibling)&&a.nodeName!==b;);return!a},"last-of-type":function(a){for(var b=a.nodeName;(a=a.nextElementSibling)&&a.nodeName!==b;);return!a},"only-of-type":function(a){return I["first-of-type"](a)&&I["last-of-type"](a)},"no-tok":function(){return!1}},Y=!0,Z=null;function ha(){if(Y){Y=!1;window.addEventListener("mouseover",function(a){Z=a.target},!0);var a=document.body;if(a){var b=a.nextSibling,c=a.parentNode;c.removeChild(a);c.insertBefore(a,b)}}};})(this);

