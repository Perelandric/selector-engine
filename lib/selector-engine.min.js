/* selector-engine | (c) 2016 Perelandric | MIT License */
;(function(global) {var g=global.Query={},k=/(?:^\s+|\s+$)/g,l={},m={};g.one=function(a,b){1===arguments.length&&(b=a,a=document);return n(new p(b),a)};g.all=function(a,b){1===arguments.length&&(b=a,a=document);return r(new p(b),a)};g.matches=function(a,b){return(new p(b)).matches(a)};var u=Error("Invalid selector"),v=/^-?(?:[_a-zA-Z\u0080-\uFFFF]|\\[^\n]?|--\d?)(?:[-\w\u0080-\uFFFF]|\\[^\n]?)*/,w=new RegExp("^\\s*("+v.source.slice(1)+")\\s*(?:([$^*~|]?=)\\s*(?:((?:'(?:[^'\\n]|\\\\\\n)*')|(?:\"(?:[^\"\\n]|\\\\\\n)*\"))|("+v.source.slice(1)+")))?\\s*([iI]?)\\s*]"),y=/^(?:([-+]?\d+)|([-+]?\d*)?n\s*(?:([-+])\s*(\d+))?|(even)|(odd))\s*\)/i;function z(a,b,c){this.kind=a;this.value=b;this.j=c}z.prototype.name="";
function A(a,b,c,f){a instanceof A?(this.c=a.c,this.a=a.a,this.m=a.m,this.s=a):(this.c=a,this.m=this.a=-1);this.A=!!c;this.w=!!f;this.u=b||"";this.f=!1;this.b=this.next();this.f=!0}var B=[""];
A.prototype.next=function(){if(this.f)return this.f=!1,this.b;if(null===this.b)return this.b;var a,b=this.a+=1;a=this.c[b];this.m=this.a;if(!a||a===this.u)return this.s&&(this.s.a=this.a,this.s=null),this.b=null;switch(a){case ",":case "*":case ">":case "+":case "~":this.b=a;break;case ":":b=!1;":"===this.c[this.a+1]&&(this.a+=1,b=!0);a=(v.exec(this.c.slice(this.a+1))||B)[0].toLowerCase();this.a+=a.length;"("===this.c[this.a+1]?(this.a+=1,this.b=C(this,a)):this.b=new z(12,a,E[a]);if(!this.b||!this.b.j)switch(a){case "scope":this.b=
22;break;case "first-line":case "first-letter":case "before":case "after":this.b=25}if(b&&25!==this.b)throw u;break;case "[":b=w.exec(this.c.slice(this.a+1));if(!b)throw u;this.a+=b[0].length;this.b=new z(b[5]?24:20,b[3]?b[3].slice(1,-1):b[4],b[2]||21);this.b.name=b[1];if(b[5])if(b[2])this.b.value=this.b.value.toLowerCase();else throw u;break;default:if(b=F(this.c,this.a),0<b)this.a+=b-1,this.b=3;else if(b="#"===a?10:"."===a?18:11,11===b&&--this.a,a=v.exec(this.c.slice(this.a+1)))this.a+=a[0].length,
this.b=new z(b,a[0]);else throw u;}return this.b};
function C(a,b){switch(b.toLowerCase()){case "not":if(a.A)throw u;return new z(2,new p(new A(a,")",!0,!1)),19);case "matches":return new z(2,new p(new A(a,")",!1,!0)),23);case "lang":var c=G(new A(a,")",!0,!0));if(11===c.kind)return c.kind=2,c.j=13,c;throw u;case "nth-child":return H(a,new z(2,0,14));case "nth-last-child":return H(a,new z(2,0,15));case "nth-of-type":return H(a,new z(2,0,16));case "nth-last-of-type":return H(a,new z(2,0,17));default:throw u;}}
function G(a){for(;3===a.next(););return a.b}function H(a,b){var c=0,f=0,d=y.exec(a.c.slice(a.a+1));if(!d)throw u;a.a+=d[0].length;d[1]?f=+d[1]:d[5]?c=2:d[6]?(c=2,f=1):(c=d[2],d=d[3]+d[4],c=c&&"+"!==c&&"-"!==c?+c:"-"===c?-1:1,d&&(f=+d));b.value=[c,f];return b};function p(a){var b=a instanceof A;if(!b&&l.hasOwnProperty(a))return l[a];for(var c={},f=b?a:new A(a),d=!0,e=!1,h;h=G(f);){var q=","===h;if(d){if(!h||q)throw u;d=!1;f.f=!0}h=new I(f);h.l||(e=e||"*"===h.qualifier,c.hasOwnProperty(h.qualifier)||(c[h.qualifier]=[]),c[h.qualifier].push(h))}this.g=[];for(var t in c)if(f=c[t],c.hasOwnProperty(t)&&f.length)if(e){for(d=0;d<f.length;d+=1)f[d].qualifier="*";this.g[0]?this.g[0].push.apply(this.g[0],f):this.g[0]=f}else this.g.push(f);b||(l[a]=this)}
p.prototype.matches=function(a){for(var b=0;b<this.g.length;b+=1)if(J(a,a,this.g[b]))return!0;return!1};function n(a,b){for(var c=null,f=0;f<a.g.length;f+=1)K(a,b,f,function(a){c=c&&0>L(c,a)?c:a;return!0});return c}function r(a,b){for(var c=[],f=0,d=0,e=0;e<a.g.length;e+=1)K(a,b,e,function(a){for(var b=0;b<d;b+=1)if(c[b]===a)return;c.push(a)}),c.length!==d&&(f+=1,d=c.length);return 1<f?c.sort(L):c}
function K(a,b,c,f){a=a.g[c];c=b.getElementsByTagName(a[0].qualifier);for(var d=0;d<c.length;d+=1){var e=c[d];if(J(b,e,a)&&f(e))break}}
function I(a){var b=a.f?a.m:a.a+1,c=a.c.indexOf(a.u||",",b);-1===c&&(c=a.c.length);b=a.c.slice(b,c).replace(k,"");if(m.hasOwnProperty(b))return a.f=!1,a.a=c-1,m[b];var f=!1,d;this.i=[];for(this.qualifier="";d=a.next();){var e=3===d;e&&(d=G(a));if(!d||","===d){a.f=!0;break}if(this.o)throw u;if(f){if(a.w)throw u;switch(d){case ">":case "+":case "~":this.i.push(d);break;default:if(e)a.f=!0,this.i.push(6);else throw u;}f=!1}else a.f=!0,this.i.push(new M(a,this)),f=!0}if(!f)throw u;this.l&&(this.i=null);
c===a.a&&(m[b]=this)}I.prototype.qualifier="*";M.prototype.l=!1;M.prototype.h=!1;M.prototype.o=!1;
function M(a,b){this.v=[];delete b.qualifier;var c=G(a);if(!c||","===c)throw u;"*"!==c&&(11===c.kind?b.qualifier=this.tag=c.value.toUpperCase():a.f=!0);a:for(;c=a.next();){switch(c){case ",":case 3:case ">":case "+":case "~":a.f=!0;break a}if(b.o)throw u;if(25===c)b.o=!0,b.l=!0;else if(22===c)b.h&&(b.l=!0),this.h=!0;else switch(c.kind){case 12:case 10:case 20:case 24:case 18:case 2:this.v.push(c);break;default:throw u;}}this.h&&(b.h=!0)}M.prototype.tag="";M.prototype.h=!1;
function N(a,b){if(a===b||a.firstElementChild&&N(a.firstElementChild,b))return!0;for(;a=a.nextElementSibling;)if(N(a,b))return!0;return!1}function L(a,b){return a===b?0:a.compareDocumentPosition?a.compareDocumentPosition(b)&4?-1:1:a.contains(b)?-1:b.contains(a)?1:N(a.nextElementSibling,b)?-1:1};function J(a,b,c){for(var f=0;f<c.length;f+=1){var d;a:{d=a;for(var e=b,h=c[f],q=h.i.length-1,t=0;-1<q;--q){var D=h.i[q],x=!1;if(D instanceof M){switch(t){case 0:x=!0;break;case ">":x=!0;case 6:e=e.parentElement;break;case "+":x=!0;case "~":e=e.previousElementSibling}if(!e){d=!1;break a}if(!O(d,e,D)){if(x){d=!1;break a}q+=1}}else t=D}d=!0}if(d)return!0}return!1}
function O(a,b,c){if(c.h&&b!==a||c.tag&&b.nodeName!==c.tag)return!1;a=0;for(var f=c.v;a<c.length;a++){var d=f[a];switch(d.kind){case 18:if(P(b.className,d.value))continue;return!1;case 10:if(b.id===d.value)continue;return!1;case 12:if(d.j(b))continue;return!1;case 2:switch(d.j){case 19:if(!d.value.matches(b))continue;return!1;case 23:if(d.value.matches(b))continue;return!1;case 14:if(Q(b,d,"",!1))continue;return!1;case 15:if(Q(b,d,"",!0))continue;return!1;case 16:if(Q(b,d,c.tag,!1))continue;return!1;
case 17:if(Q(b,d,c.tag,!0))continue;return!1;case 13:for(var e=b;e&&!e.lang;)e=e.parentNode;if(e&&R(e.lang,d.value))continue;return!1}case 20:case 24:e=(b.attributes[d.name]||S).value;if(null==e)return!1;24===d.kind&&(e=e.toLowerCase());switch(d.j){case "=":if(e===d.value)continue;return!1;case "^=":if(0===e.lastIndexOf(d.value,0))continue;return!1;case "$=":if(e.lastIndexOf(d.value)+d.value.length===e.length)continue;return!1;case "|=":if(R(e,d.value))continue;return!1;case "~=":if(P(e,d.value))continue;
return!1;case 21:continue;case "*=":if(-1===e.indexOf(d.value))return!1}}}return!0}function R(a,b){var c=a[b.length];return(!c||"-"===c)&&0===a.lastIndexOf(b,0)}function P(a,b){for(var c=0;-1!==(c=a.indexOf(b,c));){if(F(a,c-1)&&F(a,c+b.length))return!0;c+=b.length+1}return!1}
function Q(a,b,c,f){var d=b.value[0];if(!a.parentNode)return!1;b=1-b.value[1];for(var e=f?a.parentNode.lastElementChild:a.parentNode.firstElementChild;e!==a;)c&&e.nodeName!==c||(b+=1),e=f?e.previousElementSibling:e.nextElementSibling;return 0===b||0===b%d&&0<=b/d}
var T={INPUT:1,TEXTAREA:1,SELECT:1,BUTTON:1,OPTION:1,OPTGROUP:1},U={hidden:1,image:1,button:1,submit:1,reset:1},E={root:function(a){return a.ownerDocument.documentElement===a},empty:function(a){return!a.firstChild},optional:function(a){return!E.required(a)},required:function(a){return V(a,"required")&&T[a.nodeName]&&!U[a.type]},checked:function(a){return a.checked&&("checkbox"===a.type||"radio"===a.type)||a.selected&&"OPTION"===a.nodeName},indeterminate:function(a){return V(a,"indeterminate")&&"checkbox"===
a.type&&"INPUT"===a.nodeName},"out-of-range":function(a){return!E["in-range"](a)},"in-range":function(a){return"INPUT"===a.nodeName&&("number"===a.type||"text"===a.type&&(!!a.attributes.min||!!a.attributes.max))&&!0===((+a.min!==+a.min||+a.value>=+a.min)&&(+a.max!==+a.max||+a.value<=+a.max))},"default-option":function(a){return a.defaultChecked||a.defaultSelected?!0:a.form&&1===a.form.nodeType&&g.matches(a,"BUTTON, INPUT[type=submit]")&&g.one(a.form,"BUTTON, INPUT[type=submit]")===a},enabled:function(a){return!E.disabled(a)},
disabled:function(a){return V(a,"disabled")&&T[a.nodeName]},target:function(a){return a.id&&window.location.hash.slice(1)===a.id},"any-link":function(a){var b=a.nodeName;return("A"===b||"AREA"===b||"LINK"===b)&&!!a.attributes.href},hover:function(a){W&&X();if(a.contains)return a.contains(Y);var b=Y;do if(a===b)return!0;while(b&&(b=b.parentElement));return!1},focus:function(a){return a===a.ownerDocument.activeElement},"first-child":function(a){return!a.previousElementSibling},"last-child":function(a){return!a.nextElementSibling},
"only-child":function(a){return!a.previousElementSibling&&!a.nextElementSibling},"first-of-type":function(a){for(var b=a.nodeName;(a=a.previousElementSibling)&&a.nodeName!==b;);return!a},"last-of-type":function(a){for(var b=a.nodeName;(a=a.nextElementSibling)&&a.nodeName!==b;);return!a},"only-of-type":function(a){return E["first-of-type"](a)&&E["last-of-type"](a)}},W=!0,Y=null;
function X(){if(W){W=!1;window.addEventListener("mouseover",function(a){Y=a.target},!0);var a=document.body;if(a){var b=a.nextSibling,c=a.parentNode;c.removeChild(a);c.insertBefore(a,b)}}};function F(a,b){for(var c=0;;){switch(a[b+c]||""){case " ":case "\t":case "\n":c+=1;continue;case "":return c||-1}return c}}function V(a,b){return a[b]||!!a.attributes[b]}var S={};})(this);

