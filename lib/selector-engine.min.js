/* selector-engine | (c) 2016 Perelandric | MIT License */
;(function(global) {var h,m=global.Query={},n=/(?:^\s+|\s+$)/g,q={},r={};m.one=function(a,b){1===arguments.length&&(b=a,a=document);return t(new u(b),a)};m.all=function(a,b){1===arguments.length&&(b=a,a=document);return v(new u(b),a)};m.matches=function(a,b){return(new u(b)).matches(a)};var x=Error("Invalid selector"),z=new y(12),B=new y(4),C=new y(4),D=new y(4),E=new y(4),F=new y(4),G=new y(1),aa=new y(",",","),ba=new y(3," "),H=/^-?(?:[_a-zA-Z\u0080-\uFFFF]|\\[^\n]?|--\d?)(?:[-\w\u0080-\uFFFF]|\\[^\n]?)*/,ca=new RegExp("^\\s*("+H.source.slice(1)+")\\s*(?:([$^*~|]?=)\\s*(?:((?:'(?:[^'\\n]|\\\\\\n)*')|(?:\"(?:[^\"\\n]|\\\\\\n)*\"))|("+H.source.slice(1)+")))?\\s*([iI]?)\\s*]"),da=/^(?:([-+]?\d+)|([-+]?\d*)?n\s*(?:([-+])\s*(\d+))?|(even)|(odd))\s*\)/i;B.c=6;C.c=5;D.c=7;E.c=8;F.c=9;
z.c=25;function y(a,b){this.kind=a;this.value=b}h=y.prototype;h.kind=0;h.c=0;h.s=null;h.name="";h.value="";h.j=0;h.l=0;function I(a,b,c,d){a instanceof I?(this.f=a.f,this.a=a.a,this.o=a.o,this.u=a):(this.f=a,this.o=this.a=-1);this.A=!!c;this.w=!!d;this.v=b||"";this.g=!1;this.b=this.next();this.g=!0}var ea=[""];
I.prototype.next=function(){if(this.g)return this.g=!1,this.b;if(null===this.b)return this.b;var a,b=this.a+=1;a=this.f[b];this.o=this.a;if(!a||a===this.v)return this.u&&(this.u.a=this.a,this.u=null),this.b=null;switch(a){case ",":this.b=aa;break;case ">":this.b=C;break;case "+":this.b=D;break;case "~":this.b=E;break;case ":":b=!1;":"===this.f[this.a+1]&&(this.a+=1,b=!0);a=(H.exec(this.f.slice(this.a+1))||ea)[0].toLowerCase();this.a+=a.length;if(b)switch(a){case "first-line":case "first-letter":case "before":case "after":this.b=
z;break;default:throw x;}else if("("===this.f[this.a+1])this.a+=1,this.b=fa(this,a);else if(this.b=new y(12,a),this.b.c="scope"===a?22:J[a],!this.b.c)throw x;break;case "[":b=ca.exec(this.f.slice(this.a+1));if(!b)throw x;this.a+=b[0].length;this.b=new y(b[5]?24:20);this.b.name=b[1];if(b[2])this.b.c=b[2],this.b.value=b[3]?b[3].slice(1,-1):b[4],b[5]&&(this.b.value=this.b.value.toLowerCase());else if(this.b.c=21,b[5])throw x;break;case "*":this.b=G;break;default:if(b=K(this.f,this.a),0<b)this.a+=b-1,
this.b=ba;else if(b="#"===a?10:"."===a?18:11,11===b&&--this.a,a=H.exec(this.f.slice(this.a+1)))this.a+=a[0].length,this.b=new y(b,a[0]);else throw x;}return this.b};
function fa(a,b){var c=new y(2,b.toLowerCase()),d;switch(c.value){case "not":if(a.A)throw x;d=new I(a,")",!0,!1);c.s=new u(d);c.c=19;break;case "matches":d=new I(a,")",!1,!0);c.s=new u(d);c.c=23;break;case "lang":d=new I(a,")",!0,!0);c=L(d);if(11===c.kind)c.kind=2,c.c=13;else throw x;break;case "nth-child":return c.c=14,M(a,c);case "nth-last-child":return c.c=15,M(a,c);case "nth-of-type":return c.c=16,M(a,c);case "nth-last-of-type":return c.c=17,M(a,c);default:throw x;}if(d.next())throw x;return c}
function L(a){for(var b;(b=a.next())&&3===b.kind;);return b}function M(a,b){b.j=0;b.l=0;var c=da.exec(a.f.slice(a.a+1));if(!c)throw x;a.a+=c[0].length;if(c[1])b.l=+c[1];else if(c[5])b.j=2;else if(c[6])b.j=2,b.l=1;else{var d=c[2],c=c[3]+c[4];b.j=d&&"+"!==d&&"-"!==d?+d:"-"===d?-1:1;c&&(b.l=+c)}return b};function u(a){var b=a instanceof I;if(!b&&q.hasOwnProperty(a))return q[a];for(var c={},d=b?a:new I(a),f=!0,e=!1,l;l=L(d);){var A=","===l.kind;if(f){if(!l||A)throw x;f=!1;d.g=!0}l=new N(d);l.m||(e=e||"*"===l.qualifier,c.hasOwnProperty(l.qualifier)||(c[l.qualifier]=[]),c[l.qualifier].push(l))}this.h=[];for(var p in c)if(d=c[p],c.hasOwnProperty(p)&&d.length)if(e){for(f=0;f<d.length;f+=1)d[f].qualifier="*";this.h[0]?this.h[0].push.apply(this.h[0],d):this.h[0]=d}else this.h.push(d);b||(q[a]=this)}
u.prototype.matches=function(a){for(var b=0;b<this.h.length;b+=1)if(O(a,a,this.h[b]))return!0;return!1};function t(a,b){for(var c=null,d=0;d<a.h.length;d+=1)P(a,b,d,function(a){c=c&&0>Q(c,a)?c:a;return!0});return c}function v(a,b){for(var c=[],d=0,f=0,e=0;e<a.h.length;e+=1)P(a,b,e,function(a){for(var b=0;b<f;b+=1)if(c[b]===a)return;c.push(a)}),c.length!==f&&(d+=1,f=c.length);return 1<d?c.sort(Q):c}
function P(a,b,c,d){a=a.h[c];c=b.getElementsByTagName(a[0].qualifier);for(var f=0;f<c.length;f+=1){var e=c[f];if(O(b,e,a)&&d(e))break}}
function N(a){var b=a.g?a.o:a.a+1,c=a.f.indexOf(a.v||",",b);-1===c&&(c=a.f.length);b=a.f.slice(b,c).replace(n,"");if(r.hasOwnProperty(b))return a.g=!1,a.a=c-1,r[b];var d=!1,f;this.source=a;this.i=[];for(this.qualifier="";f=a.next();){var e=3===f.kind;e&&(f=L(a));if(!f||","===f.kind){a.g=!0;break}if(this.m)throw x;if(d){if(a.w)throw x;switch(f){case C:case D:case E:this.i.push(f);break;default:if(e)a.g=!0,this.i.push(B);else throw x;}d=!1}else{a.g=!0;R.length=0;this.qualifier="";d=L(this.source);if(!d||
","===d.kind)throw x;switch(d.kind){case 11:d.value=d.value.toUpperCase();case 1:this.qualifier=d.value||"*";R.push(d);break;default:this.source.g=!0,this.qualifier="*",R.push(G)}a:for(;d=this.source.next();){switch(d.kind){case ",":case 3:case 4:this.source.g=!0;break a}if(this.m)throw x;switch(d.kind){case 12:switch(d.c){case 22:R.unshift(d);continue;case 25:this.m=!0;continue}case 10:case 20:case 24:case 18:case 2:R.push(d);break;default:throw x;}}for(;R.length;)this.i.push(R.pop());d=!0}}if(!1===
d)throw x;this.m?this.i=null:this.i.push(F);this.source=null;c===a.a&&(r[b]=this)}N.prototype.m=!1;var R=[];function S(a,b){if(a===b||a.firstElementChild&&S(a.firstElementChild,b))return!0;for(;a=a.nextElementSibling;)if(S(a,b))return!0;return!1}function Q(a,b){return a===b?0:a.compareDocumentPosition?a.compareDocumentPosition(b)&4?-1:1:a.contains(b)?-1:b.contains(a)?1:S(a.nextElementSibling,b)?-1:1};function O(a,b,c){var d=0;a:for(;d<c.length;d+=1){for(var f=c[d],e=b,l=!1,A=-1,p="",w=f.i.length-1;-1<w;--w){var g=f.i[w];if(4===g.kind){l=!1;p="";switch(g.c){case 9:l=!0;break;case 5:l=!0;case 6:e=e.parentNode;break;case 7:l=!0;case 8:e=e.previousElementSibling}if(!e||1!==e.nodeType)return!1;A=w+1}else{switch(g.kind){case 1:continue;case 11:p=g.value;if(e.nodeName===p)continue;break;case 18:if(T(e.className,g.value))continue;break;case 10:if(e.id===g.value)continue;break;case 12:if(22===g.c){if(e===
a)continue}else if(g.c(e))continue;break;case 2:switch(g.c){case 19:if(!g.s.matches(e))continue;break;case 23:if(g.s.matches(e))continue;break;case 14:if(U(e,g,"",!1))continue;break;case 15:if(U(e,g,"",!0))continue;break;case 16:if(U(e,g,p,!1))continue;break;case 17:if(U(e,g,p,!0))continue;break;case 13:for(var k=e;k&&!k.lang;)k=k.parentNode;if(k&&V(k.lang,g.value))continue}break;case 20:case 24:if(k=(e.attributes[g.name]||ga).value,null!=k)switch(24===g.kind&&(k=k.toLowerCase()),g.c){case "=":if(k===
g.value)continue;break;case "^=":if(0===k.lastIndexOf(g.value,0))continue;break;case "$=":if(k.lastIndexOf(g.value)+g.value.length===k.length)continue;break;case "|=":if(V(k,g.value))continue;break;case "~=":if(T(k,g.value))continue;break;case 21:continue;case "*=":if(-1!==k.indexOf(g.value))continue}}if(l)continue a;w=A}}return!0}return!1}function V(a,b){var c=a[b.length];return(!c||"-"===c)&&0===a.lastIndexOf(b,0)}
function T(a,b){for(var c=0;-1!==(c=a.indexOf(b,c));){if(K(a,c-1)&&K(a,c+b.length))return!0;c+=b.length+1}return!1}function U(a,b,c,d){var f=b.j;if(!a.parentNode)return!1;b=1-b.l;for(var e=d?a.parentNode.lastElementChild:a.parentNode.firstElementChild;e!==a;)c&&e.nodeName!==c||(b+=1),e=d?e.previousElementSibling:e.nextElementSibling;return 0===b||0===b%f&&0<=b/f}
var W={INPUT:1,TEXTAREA:1,SELECT:1,BUTTON:1,OPTION:1,OPTGROUP:1},ha={hidden:1,image:1,button:1,submit:1,reset:1},J={root:function(a){return a.ownerDocument.documentElement===a},empty:function(a){return!a.firstChild},optional:function(a){return!J.required(a)},required:function(a){return X(a,"required")&&W[a.nodeName]&&!ha[a.type]},checked:function(a){return a.checked&&("checkbox"===a.type||"radio"===a.type)||a.selected&&"OPTION"===a.nodeName},indeterminate:function(a){return X(a,"indeterminate")&&
"checkbox"===a.type&&"INPUT"===a.nodeName},"out-of-range":function(a){return!J["in-range"](a)},"in-range":function(a){return"INPUT"===a.nodeName&&("number"===a.type||"text"===a.type&&(!!a.attributes.min||!!a.attributes.max))&&!0===((+a.min!==+a.min||+a.value>=+a.min)&&(+a.max!==+a.max||+a.value<=+a.max))},"default-option":function(a){return a.defaultChecked||a.defaultSelected?!0:a.form&&1===a.form.nodeType&&m.matches(a,"BUTTON, INPUT[type=submit]")&&m.one(a.form,"BUTTON, INPUT[type=submit]")===a},
enabled:function(a){return!J.disabled(a)},disabled:function(a){return X(a,"disabled")&&W[a.nodeName]},target:function(a){return a.id&&window.location.hash.slice(1)===a.id},"any-link":function(a){return"A"===a.nodeName&&!!a.attributes.href},hover:function(a){Y&&ia();if(a.contains)return a.contains(Z);var b=Z;do if(a===b)return!0;while(b&&(b=b.parentNode));return!1},focus:function(a){return a===a.ownerDocument.activeElement},"first-child":function(a){return!a.previousElementSibling},"last-child":function(a){return!a.nextElementSibling},
"only-child":function(a){return!a.previousElementSibling&&!a.nextElementSibling},"first-of-type":function(a){for(var b=a.nodeName;(a=a.previousElementSibling)&&a.nodeName!==b;);return!a},"last-of-type":function(a){for(var b=a.nodeName;(a=a.nextElementSibling)&&a.nodeName!==b;);return!a},"only-of-type":function(a){return J["first-of-type"](a)&&J["last-of-type"](a)}},Y=!0,Z=null;
function ia(){if(Y){Y=!1;window.addEventListener("mouseover",function(a){Z=a.target},!0);var a=document.body;if(a){var b=a.nextSibling,c=a.parentNode;c.removeChild(a);c.insertBefore(a,b)}}};function K(a,b){for(var c=0;;){switch(a[b+c]){case " ":case "\t":case "\n":c+=1;continue;case "":case void 0:return c||-1}return c}}function X(a,b){return a[b]||!!a.attributes[b]}var ga={};})(this);

